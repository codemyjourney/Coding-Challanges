<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Asynchronous JavaScript</title>
</head>

<body>
  <h1>Asynchronous JavaScript</h1>
  <script>

    //new challenge*

    // Take a look at the object we've provided in the code editor. The user object contains three keys. The data key contains five keys, one of which contains an array of friends. From this, you can see how flexible objects are as data structures. We've started writing a function addFriend. Finish writing it so that it takes a user object and adds the name of the friend argument to the array stored in user.data.friends and returns that array.

    // let user = {
    //   name: 'Kenneth',
    //   age: 28,
    //   data: {
    //     username: 'kennethCodesAllDay',
    //     joinDate: 'March 26, 2016',
    //     organization: 'freeCodeCamp',
    //     friends: [
    //       'Sam',
    //       'Kira',
    //       'Tomo'
    //     ],
    //     location: {
    //       city: 'San Francisco',
    //       state: 'CA',
    //       country: 'USA'
    //     }
    //   }
    // };

    // function addFriend(userObj, friend) {
    //   // Only change code below this line
    //   userObj.data.friends.push(friend);
    //   return userObj.data.friends;

    //   // Only change code above this line
    // }
    // console.log(addFriend(user, 'Pete'));

    /*
        //reverse a string
        var newString = '';
        function reverseString(str) {
          for (let i = str.length - 1; i >= 0; i--) {
            newString += str[i];
          }
          console.log(newString);
          return newString;
        }
    */

    /*
    var number = 1;
    var i = 1;
    function factorialize(num) {
      // if(num === 0){ return number = 1}
      while (i <= num) {
        number = number * i;
        i++;
      }
      console.log(number);
      return number;
    }

    factorialize(0);
    */

    // Find the Longest Word in a String*************

    // convert string to array, check world lenght, save the length in a variable, compare and return the longest world
    /*
        var words, longestWord, highestNum;
        highestNum = 0;
        longestWord = '';
        function findLongestWordLength(str) {
          //convert string to array
          words = str.split(' ');
          //check world length
          for(let word of words){
            getWordLength = word.length;
            if (getWordLength > highestNum){
              highestNum = getWordLength;
              longestWord = word;
            }
          }
          console.log(longestWord);
          return longestWord;
        }

        findLongestWordLength("The quick brown fox jumped over the lazy dog");


    // Solution N2
    function findLongestWordLength2(str) {
      return Math.max(...str.split(" ").map(word => word.length));
    }

    findLongestWordLength2("The quick brown fox jumped over the lazy dog");
    */


    //Basic Algorithm Scripting: ***********************************************

    // Return an array consisting of the largest number from each provided sub-array. For simplicity, the provided array will contain exactly 4 sub-arrays.
    // get the largest num in array, // store it in a new arra

    // function largestOfFour(arr) {
    //   var largestArr = [];
    //   var largest = 0;
    //   for (let num of arr) {
    //     //console.log(num);
    //     for (let i in num) {
    //       //console.log(i);
    //       if (num[i] > largest || largest === null) {
    //         largest = num[i]
    //         //console.log('largest' + largest);
    //       }
    //     }
    //     largestArr.push(largest);
    //     largest = 0;
    //   }
    //   console.log(largestArr);
    //   return largestArr;
    // }

    // largestOfFour([[13, 27, 18, 26], [4, 5, 1, 3], [32, 35, 37, 39], [1000, 1001, 857, 1]]) //should return [27, 5, 39, 1001].


    // Match last character **************************

    //     Basic Algorithm Scripting: Confirm the Ending 
    // Check if a string (first argument, str) ends with the given target string (second argument, target).

    // This challenge can be solved with the .endsWith() method, which was introduced in ES2015. But for the purpose of this challenge, we would like you to use one of the JavaScript substring methods instead.

    // function confirmEnding(str, target) {
    //   return (new RegExp(`${target}$`)).test(str);
    // }

    // console.log(confirmEnding("Bastian", "ian"));


    /**********************/
    //Repeat a String Repeat a String***************

    function repeatStringNumTimes(str, num) {
      var repeat = '';
      while (0 < num) {
        repeat += str;
        num -- ;
      }
      console.log(repeat)
      return repeat;
    }

    repeatStringNumTimes("*", 3) //should return "***".



    // A S Y N C H R O N O U S  J A V A S C R I P T

    // const second = () => {
    //   setTimeout (() => {
    //     console.log('Async is there');
    //   }, 2000); // appears in 2 secondsk
    // }
    // const first = () => {
    //   console.log('Hey there');
    //   second();
    //   console.log('The End');
    // }
    // first();


    // function getRecipe() {
    //   setTimeout(() => {
    //     const recipeID = [523, 765, 220, 567];
    //     console.log(recipeID);

    //     setTimeout(id => {
    //       const recipe = { title: 'Fresh tomato pasta', publisher: 'Jonas' };
    //       console.log(`${id}: ${recipe.title}`);

    //       setTimeout(publisher => {
    //         const recipe2 = { title: 'Italian Pizza', publisher: 'Jonas' }
    //         console.log(recipe2);
    //       }, 1500, recipe.publisher);

    //     }, 1000, recipeID[2]);

    //   }, 1500);
    // }
    // getRecipe();

    // // P R O M i S e *********************************
    // const getIDs = new Promise((resolve, reject) => {
    //   setTimeout(() => {
    //     resolve([523, 456, 768, 220]);
    //   }, 1500);
    // });

    // const getRecipe = recID => {
    //   return new Promise((resolve, reject) => {
    //     setTimeout(ID => {
    //       const recipe = { title: 'Fresh tomato pasta', publisher: 'Jonas' };
    //       resolve(`${ID}: ${recipe.title}`)
    //     }, 1500, recID)
    //   });
    // };

    // const getRelated = publisher => {
    //   return new Promise((resolve, reject) => {
    //     setTimeout(pub => {
    //       const recipe = { title: 'Italian Pizza', publisher: 'Jonas' };
    //       resolve(`${pub}: ${recipe.title}`);
    //     }, 1500, publisher);
    //   });
    // };


    // getIDs
    //   .then(IDs => {
    //     console.log(IDs);
    //     return getRecipe(IDs[2]);
    //   })
    //   .then(recipe => {
    //     console.log(recipe);
    //     return getRelated('Jonas Tomson');
    //   })
    //   .then(recipe => {
    //     console.log(recipe);
    //   })
    //   .catch(error => {
    //     console.log('Error');
    //   });


    // ASYNC AWAIT


    // async function getRecipesAW() {
    //   const IDs = await getIDs;
    // }
    // getRecipesAW();

  </script>
</body>

</html>